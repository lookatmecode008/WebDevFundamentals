<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        body{
    background: rgb(5, 5, 62);
    color: goldenrod;
    padding-left: 20%;
}

main{
    text-align:center;
    align-items: center;
    max-width: 75%
}

#player-moves button {
     border: dotted 0.3rem blue;
     border-radius: 100%;
     min-width: 25%;
     height: 35vh;
     font-size: 2rem;
     background: rgba(255, 0, 0, 0);
     transition: all ease-in-out 0.3s;
 }

 #outcome {
    min-height: 50px;
    border: solid red 1px;
    text-align: center;
    align-items: center;
 }

 #player-moves button:hover {
     transform: scale(1.1);
     background: rgba(255, 255, 255, 0.903);
     font-size: 2.5rem;
 }

 .moves {
     display: grid;
     grid-template-columns: 1fr 1fr;
     grid-template-rows: auto;
     font-size: 7rem;
     text-align: center;
 }

 .moves div {
    border: solid grey  0.1rem;
    border-top: none;
    border-bottom:none;
    min-height: 100px;
}

@media (max-width: 768px){
main {
    max-width: 100%;
    background:red;
 }
}


    </style>
</head>
<body>
    <main>
        <h1>Rock Paper Scissors</h1>

        <p id="player-moves">
            
            <button onclick="playGame('Rock'); ">‚úä</button>

            <button onclick="playGame('Paper'); ">ü§ö</button>
            
            <button onclick="playGame('Scissors'); ">‚úåÔ∏è</button>

        </p>
        <div class="moves">
            <div id="myMove"></div>
            <div id="comMove"></div>
        </div>
        <p id="outcome"></p>
        <div id="resetScore">
            <p id="js-historyRecord"></p>
            <button class="js-reset-button">
                Reset History Record
            </button>
            </div>
        </main>

    <script>
    
        const resetButton = document.querySelector('.js-reset-button');
        let outcome = document.querySelector('#outcome');
        let historyRecord = document.querySelector('#js-historyRecord')
        let record = JSON.parse(localStorage.getItem('record')) || { wins: 0, losses: 0, ties: 0 };
        const myMove = document.querySelector('#myMove');
        const comMove = document.querySelector('#comMove');

        resetButton.onclick = () => {
            localStorage.removeItem('record')

            resetButton.innerText = `Record Reset, Refresh to finalise!`
        }

        historyRecord.innerHTML = `History: Wins: ${record.wins} | Losses: ${record.losses} | Ties: ${record.ties}`;


        function pickComMove() {
            let compMove = '';
            const randomNumber = Math.random();

            if (randomNumber >= 0 && randomNumber < 1 / 3) {
                compMove = `Rock`;
            }
            else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
                compMove = `Paper`;
            }
            else {
                compMove = `Scissors`
                    ;
            }
            return compMove;
        }

        function playGame(playerMove) {
            let compMove = pickComMove();

            if (playerMove === 'Rock') {
                myMove.innerHTML = `‚úä`
                if (compMove === 'Rock') {
                    comMove.innerHTML = `‚úä`;
                    result = 'It is a Tie!';
                } else if (compMove === 'Paper') {
                    comMove.innerHTML = `ü§ö`
                    result = 'I Win!';
                } else {
                    comMove.innerHTML = `‚úåÔ∏è`
                    result = 'You Win!';
                }
            }

            else if (playerMove === 'Paper') {
                myMove.innerHTML = `ü§ö`
                if (compMove === 'Rock') {
                    result = 'You Win!';
                    comMove.innerHTML = `‚úä`;
                } else if (compMove === 'Paper') {
                    result = 'It is a Tie!';
                    comMove.innerHTML = `ü§ö`
                } else {
                    result = 'I Win!';
                    comMove.innerHTML = `‚úåÔ∏è`
                }
            }
            else {
                myMove.innerHTML = `‚úåÔ∏è`
                if (compMove === 'Rock') {
                    result = 'I Win!';
                    comMove.innerHTML = `‚úä`;
                } else if (compMove === 'Paper') {
                    result = 'You Win!';
                    comMove.innerHTML = `ü§ö`
                } else {
                    result = 'It is a Tie!';
                    comMove.innerHTML = `‚úåÔ∏è`
                }
            }

            if (result === 'You Win!') {
                record.wins += 1;
            } else if (result === 'I Win!') {
                record.losses += 1;
            } else {
                record.ties += 1;
            };

            localStorage.setItem('record', JSON.stringify(record))

            outcome.innerText = `${result}
        \n
        Wins: ${record.wins} Losses: ${record.losses} Ties: ${record.ties}`;
        }

    
 </script>
</body>
</html>